# name: Testing of Capture Daily Wallpaper

# permissions:
#   contents: write

# on:
#   schedule:
#     - cron: '31 18 * * *'
#   workflow_dispatch:

# jobs:
#   screenshot:
#     runs-on: ubuntu-latest

#     steps:
#       - name: Checkout Repository
#         uses: actions/checkout@v4
#         with:
#           token: ${{ secrets.GITHUB_TOKEN }}

#       - name: Setup Node.js
#         uses: actions/setup-node@v4
#         with:
#           node-version: '20'
#           cache: 'npm'

#       - name: Install Dependencies
#         run: |
#           npm install puppeteer@latest

#       # Loop: Take screenshot every 5 seconds, 5 times
#       - name: Take Screenshot Every 5 Seconds
#         run: |
#           for i in 1 2 3 4 5; do
#             echo "=== Run $i of 5 ==="
#             echo "Time: $(TZ='Asia/Kolkata' date)"
#             node capture.js
#             echo "âœ… Screenshot $i done"
#             echo ""
#             if [ $i -lt 5 ]; then
#               echo "Waiting 5 seconds..."
#               sleep 5
#             fi
#           done
#         env:
#           VERCEL_URL: ${{ secrets.VERCEL_URL }}

#       - name: Commit Updated Wallpaper
#         run: |
#           git config --global user.email "github-actions[bot]@github.com"
#           git config --global user.name "GitHub Actions Bot"
#           git add screenshots/wallpaper.png
#           git diff --cached --quiet || git commit -m "chore: update daily wallpaper - $(date -u +%Y-%m-%d)"
#           git push origin master
#         env:
#           GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

#       - name: Trigger Vercel Redeploy
#         run: |
#           curl -X POST "${{ secrets.VERCEL_DEPLOY_HOOK }}"